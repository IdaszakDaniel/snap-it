{"version":3,"sources":["../src/generateTestFile.ts"],"names":["TEMPLATE","path","resolve","__dirname","generateTestFile","data","filename","filepath","root","process","cwd","dest","relative","filepathRelative","fs","mkdirp","target","content","readFile","writeFile","ejs","render","getRequiredProps","getOptionalPropsArray","getPropValue","componentName"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;;;;AAMA,MAAMA,QAAQ,GAAGC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,sBAAxB,CAAjB;;AAEO,eAAeC,gBAAf,CACLC,IADK,EAELC,QAFK,EAGLC,QAHK,EAIL;AACA,QAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,EAAb;;AACA,QAAMC,IAAI,GAAGV,cAAKW,QAAL,CAAcJ,IAAd,EAAoB,WAApB,CAAb;;AACA,QAAMK,gBAAgB,GAAGZ,cAAKW,QAAL,CAAcD,IAAd,EAAoBJ,QAApB,CAAzB;;AACA,QAAMO,iBAAGC,MAAH,CAAUJ,IAAV,CAAN;AAEA,QAAMK,MAAM,GAAI,GAAEL,IAAK,IAAGL,QAAS,WAAnC;AACA,QAAMW,OAAO,GAAG,MAAMH,iBAAGI,QAAH,CAAYlB,QAAZ,EAAsB,MAAtB,CAAtB;AAEA,oBAAM,cAAagB,MAAO,EAA1B;AACA,QAAMF,iBAAGK,SAAH,CACJH,MADI,EAEJI,aAAIC,MAAJ,CAAWJ,OAAX,EAAoB;AAClBZ,IAAAA,IADkB;AAElBiB,IAAAA,gBAAgB,EAAhBA,0BAFkB;AAGlBC,IAAAA,qBAAqB,EAArBA,+BAHkB;AAIlBC,IAAAA,YAAY,EAAZA,sBAJkB;AAKlBC,IAAAA,aAAa,EAAEnB,QALG;AAMlBC,IAAAA,QAAQ,EAAEM;AANQ,GAApB,CAFI,CAAN;AAWA,uBAAS,4BAA2BG,MAAO,EAA3C;AACD","sourcesContent":["import path from 'path';\nimport ejs from 'ejs';\nimport fs from 'fs-extra';\n\nimport { info, success } from './utils/logger';\nimport { TestPropsInfo } from './serializeSymbol';\nimport {\n  getRequiredProps,\n  getOptionalPropsArray,\n  getPropValue,\n} from './getProps';\n\nconst TEMPLATE = path.resolve(__dirname, '../template/template');\n\nexport async function generateTestFile(\n  data: TestPropsInfo[],\n  filename: string,\n  filepath: string\n) {\n  const root = process.cwd();\n  const dest = path.relative(root, '__tests__');\n  const filepathRelative = path.relative(dest, filepath);\n  await fs.mkdirp(dest);\n\n  const target = `${dest}/${filename}.test.tsx`;\n  const content = await fs.readFile(TEMPLATE, 'utf8');\n\n  info(`Writing to ${target}`);\n  await fs.writeFile(\n    target,\n    ejs.render(content, {\n      data,\n      getRequiredProps,\n      getOptionalPropsArray,\n      getPropValue,\n      componentName: filename,\n      filepath: filepathRelative,\n    })\n  );\n  success(`Done, check your test in ${target}`);\n}\n"],"file":"generateTestFile.js"}