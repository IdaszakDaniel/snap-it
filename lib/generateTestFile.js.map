{"version":3,"sources":["../src/generateTestFile.ts"],"names":["TEMPLATE","path","resolve","__dirname","generateTestFile","data","filename","dest","join","process","cwd","fs","mkdirp","target","content","readFile","console","log","writeFile","ejs","render","getRequiredProps","getOptionalPropsArray","getPropValue","componentName"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA;;;;AAEA,MAAMA,QAAQ,GAAGC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,sBAAxB,CAAjB;;AAEO,eAAeC,gBAAf,CAAgCC,IAAhC,EAAuDC,QAAvD,EAAyE;AAC9E;AACA,QAAMC,IAAI,GAAGN,cAAKO,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,WAAzB,CAAb;;AACA,QAAMC,iBAAGC,MAAH,CAAUL,IAAV,CAAN;AAEA,QAAMM,MAAM,GAAI,GAAEN,IAAK,IAAGD,QAAS,WAAnC;AACA,QAAMQ,OAAO,GAAG,MAAMH,iBAAGI,QAAH,CAAYf,QAAZ,EAAsB,MAAtB,CAAtB;AAEAgB,EAAAA,OAAO,CAACC,GAAR,CAAa,cAAaJ,MAAO,EAAjC;AACA,QAAMF,iBAAGO,SAAH,CAAaL,MAAb,EAAqBM,aAAIC,MAAJ,CAAWN,OAAX,EAAoB;AAC7CT,IAAAA,IAD6C;AAE7CgB,IAAAA,gBAAgB,EAAhBA,0BAF6C;AAG7CC,IAAAA,qBAAqB,EAArBA,+BAH6C;AAI7CC,IAAAA,YAAY,EAAZA,sBAJ6C;AAK7CC,IAAAA,aAAa,EAAElB;AAL8B,GAApB,CAArB,CAAN;AAOD","sourcesContent":["import path from 'path';\nimport ejs from 'ejs';\nimport fs from 'fs-extra';\n\nimport { TestPropsInfo } from './serializeSymbol';\nimport { getRequiredProps, getOptionalPropsArray, getPropValue } from './getProps';\n\nconst TEMPLATE = path.resolve(__dirname, '../template/template');\n\nexport async function generateTestFile(data: TestPropsInfo[], filename: string) {\n  // TODO: add posibility to point place\n  const dest = path.join(process.cwd(), '__tests__')\n  await fs.mkdirp(dest);\n\n  const target = `${dest}/${filename}.test.tsx`;\n  const content = await fs.readFile(TEMPLATE, 'utf8');\n\n  console.log(`Writing to ${target}`)\n  await fs.writeFile(target, ejs.render(content, {\n    data,\n    getRequiredProps,\n    getOptionalPropsArray,\n    getPropValue,\n    componentName: filename,\n  }));\n}\n"],"file":"generateTestFile.js"}