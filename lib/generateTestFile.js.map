{"version":3,"sources":["../src/generateTestFile.ts"],"names":["TEMPLATE","path","resolve","__dirname","generateTestFile","data","filename","filepath","root","process","cwd","dest","relative","filepathRelative","fs","mkdirp","target","content","readFile","console","log","writeFile","ejs","render","getRequiredProps","getOptionalPropsArray","getPropValue","componentName"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA;;;;AAEA,MAAMA,QAAQ,GAAGC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,sBAAxB,CAAjB;;AAEO,eAAeC,gBAAf,CAAgCC,IAAhC,EAAuDC,QAAvD,EAAyEC,QAAzE,EAA2F;AAChG,QAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,EAAb;;AACA,QAAMC,IAAI,GAAGV,cAAKW,QAAL,CAAcJ,IAAd,EAAoB,WAApB,CAAb;;AACA,QAAMK,gBAAgB,GAAGZ,cAAKW,QAAL,CAAcD,IAAd,EAAoBJ,QAApB,CAAzB;;AACA,QAAMO,iBAAGC,MAAH,CAAUJ,IAAV,CAAN;AAEA,QAAMK,MAAM,GAAI,GAAEL,IAAK,IAAGL,QAAS,WAAnC;AACA,QAAMW,OAAO,GAAG,MAAMH,iBAAGI,QAAH,CAAYlB,QAAZ,EAAsB,MAAtB,CAAtB;AAEAmB,EAAAA,OAAO,CAACC,GAAR,CAAa,cAAaJ,MAAO,EAAjC;AACA,QAAMF,iBAAGO,SAAH,CAAaL,MAAb,EAAqBM,aAAIC,MAAJ,CAAWN,OAAX,EAAoB;AAC7CZ,IAAAA,IAD6C;AAE7CmB,IAAAA,gBAAgB,EAAhBA,0BAF6C;AAG7CC,IAAAA,qBAAqB,EAArBA,+BAH6C;AAI7CC,IAAAA,YAAY,EAAZA,sBAJ6C;AAK7CC,IAAAA,aAAa,EAAErB,QAL8B;AAM7CC,IAAAA,QAAQ,EAAEM;AANmC,GAApB,CAArB,CAAN;AAQD","sourcesContent":["import path from 'path';\nimport ejs from 'ejs';\nimport fs from 'fs-extra';\n\nimport { TestPropsInfo } from './serializeSymbol';\nimport { getRequiredProps, getOptionalPropsArray, getPropValue } from './getProps';\n\nconst TEMPLATE = path.resolve(__dirname, '../template/template');\n\nexport async function generateTestFile(data: TestPropsInfo[], filename: string, filepath: string) {\n  const root = process.cwd()\n  const dest = path.relative(root, '__tests__')\n  const filepathRelative = path.relative(dest, filepath)\n  await fs.mkdirp(dest);\n\n  const target = `${dest}/${filename}.test.tsx`;\n  const content = await fs.readFile(TEMPLATE, 'utf8');\n\n  console.log(`Writing to ${target}`)\n  await fs.writeFile(target, ejs.render(content, {\n    data,\n    getRequiredProps,\n    getOptionalPropsArray,\n    getPropValue,\n    componentName: filename,\n    filepath: filepathRelative,\n  }));\n}\n"],"file":"generateTestFile.js"}